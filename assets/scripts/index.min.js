function getCraftingObject(t){var o="../models/";$.getJSON(o+t+".json",function(o){craftingObjects[t]=o})}function addRow(){console.log("addRow()"),currentRow++,rows[currentRow]=!0;var t='<div class="row col" id="inputRow-'+currentRow+'"><div class="btn-flat btn-large waves-effect col s1 removeBtn" onClick="removeRow('+currentRow+')"><i class="mdi-action-delete"></i></div><div class="input-field col s5"><select id="item-'+currentRow+'"><option value="woodFoundation">Wooden Foundation</option></select><label>Crafting Item</label></div><div class="input-field col s5"><input type="text" id="quantity-'+currentRow+'" value="" class=""><label for="quantity">Quantity</label></div></div>';$("#formRows").append(t),setTimeout(function(){$("#item-"+currentRow).material_select()},0)}function removeRow(t){console.log("removeRow("+t+")"),rows[t]=!1,$("#inputRow-"+t).remove()}function clearCalculation(){itemTotals={}}function adjustCalculation(t,o){console.log(t,o),itemTotals[t]?itemTotals[t]+=o:itemTotals[t]=o,console.log(t,itemTotals[t])}function displayCalculation(){var t="";_.each(itemTotals,function(o,a){o>0&&(t+="<tr><td>"+a+"</td><td>"+o+"</td></tr>")}),$("#output").html(t)}function calculate(){clearCalculation(),_.each(rows,function(t,o){if(t){var a=$("#item-"+o).val(),n=craftingObjects[a],e=$("#quantity-"+o).val();_.each(n.materials,function(t){adjustCalculation(t.name,t.quantity*e)})}}),displayCalculation()}var itemTotals={},currentRow=0;rows={};var craftingObjects={woodFoundation:{}};_.each(craftingObjects,function(t,o){getCraftingObject(o)}),addRow(),$("#calculateBtn").click(function(){calculate()}),$("#addRowBtn").click(function(){addRow()});