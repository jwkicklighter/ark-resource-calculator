function getCraftingObject(o){var t="models/";$.getJSON(t+o+".json",function(t){craftingObjects[o]=t})}function addRow(){console.log("addRow()"),currentRow++,rows[currentRow]=!0;var o='<div class="row col" id="inputRow-'+currentRow+'"><div class="btn-flat btn-large waves-effect col s1 removeBtn" onClick="removeRow('+currentRow+')"><i class="mdi-action-delete"></i></div><div class="input-field col s4"><select id="item-'+currentRow+'"><option value="ladder">Ladder</option><option value="woodFoundation">Wooden Foundation</option><option value="woodRamp">Wooden Ramp</option><option value="woodRoof">Wooden Roof</option><option value="woodWall">Wooden Wall</option></select><label>Crafting Item</label></div><div class="input-field col s1"><input type="text" id="quantity-'+currentRow+'" value="1" class=""><label for="quantity" class="active">Quantity</label></div></div>';$("#formRows").append(o),setTimeout(function(){$("#item-"+currentRow).material_select()},0)}function removeRow(o){console.log("removeRow("+o+")"),rows[o]=!1,$("#inputRow-"+o).remove()}function clearCalculation(){itemTotals={}}function adjustCalculation(o,t){console.log(o,t),itemTotals[o]?itemTotals[o]+=t:itemTotals[o]=t,console.log(o,itemTotals[o])}function displayCalculation(){var o="";_.each(itemTotals,function(t,a){t>0&&(o+="<tr><td>"+a+"</td><td>"+t+"</td></tr>")}),$("#output").html(o)}function calculate(){clearCalculation(),_.each(rows,function(o,t){if(o){var a=$("#item-"+t).val(),n=craftingObjects[a],e=$("#quantity-"+t).val();_.each(n.materials,function(o){adjustCalculation(o.name,o.quantity*e)})}}),displayCalculation()}var itemTotals={},currentRow=0;rows={};var craftingObjects={ladder:{},woodFoundation:{},woodRamp:{},woodRoof:{},woodWall:{}};_.each(craftingObjects,function(o,t){getCraftingObject(t)}),addRow(),$("#calculateBtn").click(function(){calculate()}),$("#addRowBtn").click(function(){addRow()});