function getCraftingObject(t){var o="models/";$.getJSON(o+t+".json",function(o){craftingObjects[t]=o})}function addRow(){console.log("addRow()"),currentRow++,rows[currentRow]=!0;var t='<div class="row col" id="inputRow-'+currentRow+'"><div class="btn-flat btn-large waves-effect col s1 removeBtn" onClick="removeRow('+currentRow+')"><i class="mdi-action-delete"></i></div><div class="input-field col s4"><select id="item-'+currentRow+'"><option value="ladder">Ladder</option><option value="woodFoundation">Wooden Foundation</option><option value="woodRamp">Wooden Ramp</option><option value="woodRoof">Wooden Roof</option><option value="woodWall">Wooden Wall</option></select><label>Crafting Item</label></div><div class="input-field col s1"><input type="text" id="quantity-'+currentRow+'" value="1" class=""><label for="quantity" class="active">Quantity</label></div></div>';$("#formRows").append(t),setTimeout(function(){$("#item-"+currentRow).material_select()},0)}function removeRow(t){console.log("removeRow("+t+")"),rows[t]=!1,$("#inputRow-"+t).remove()}function clearCalculation(){itemTotals={}}function adjustCalculation(t,o){console.log(t,o),itemTotals[t]?itemTotals[t]+=o:itemTotals[t]=o,console.log(t,itemTotals[t])}function displayCalculation(){var t="";_.each(itemTotals,function(o,a){o>0&&(t+="<tr><td>"+a+"</td><td>"+o+"</td></tr>")}),$("#output").html(t)}function calculate(){clearCalculation(),_.each(rows,function(t,o){if(t){var a=$("#item-"+o).val(),e=craftingObjects[a],n=$("#quantity-"+o).val();_.each(e.materials,function(t){adjustCalculation(t.name,t.quantity*n)})}}),displayCalculation()}var itemTotals={},currentRow=0;rows={};var craftingObjects={ladder:{title:"Wooden Ladder",modelDate:"06.21.2015",materials:[{name:"wood",quantity:4},{name:"thatch",quantity:7},{name:"fiber",quantity:4}]},woodFoundation:{title:"Wooden Foundation",modelDate:"06.21.2015",materials:[{name:"wood",quantity:80},{name:"thatch",quantity:20},{name:"fiber",quantity:15}]},woodRamp:{title:"Wooden Ramp",modelDate:"06.21.2015",materials:[{name:"wood",quantity:60},{name:"thatch",quantity:15},{name:"fiber",quantity:10}]},woodRoof:{title:"Wooden Roof",modelDate:"06.21.2015",materials:[{name:"wood",quantity:60},{name:"thatch",quantity:15},{name:"fiber",quantity:10}]},woodWall:{title:"Wooden Wall",modelDate:"06.21.2015",materials:[{name:"wood",quantity:40},{name:"thatch",quantity:10},{name:"fiber",quantity:7}]}};addRow(),$("#calculateBtn").click(function(){calculate()}),$("#addRowBtn").click(function(){addRow()});